<!doctype html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
        <title>Quink Example - configure the toolbar from the host page</title>
        <style>
        .page-button {
            min-height: 40px;
            min-width: 100px;
        }
        </style>
        <script type="text/javascript" src="../../quink.js"></script>
    </head>
    <body>
        <div contenteditable="true" id="ed-1">
            The 'config n' buttons switch the toolbar configuration. The reset button switches back to the initial toolbar configuration. New configurations are applied on the existing toolbar definition, so to get reproducible results hit reset before applying a new configuration.
        </div>
        <button class="page-button" id="btn1">config 1</button>
        <button class="page-button" id="btn2">config 2</button>
        <button class="page-button" id="btnreset">reset</button>
        <script type="text/javascript">
        QUINK.ready = function () {
            var c1 = {
                    groups: [
                        {
                            id: 'misc',
                            index: 4,
                            items: [
                                {
                                    id: 'save',
                                    hidden: true
                                },
                                {
                                    id: 'navcharleft',
                                    index: 0,
                                    repeat: false
                                },
                                {
                                    id: 'navcharright',
                                    index: 1,
                                    repeat: false
                                }
                            ]
                        },
                        {
                            id: 'help',
                            label: '?',
                            active: true,
                            items: [
                                {
                                    id: "info",
                                    index: 2
                                },
                                {
                                    id: "releasenotes",
                                    hidden: true
                                },
                                {
                                    id: "license",
                                    index: 1
                                },
                                {
                                    id: "statusbar",
                                    index: 0
                                }
                            ]
                        }
                    ]
                },
            c2 = {
                    groups: [
                        {
                            id: 'misc',
                            hidden: true
                        },
                        {
                            id: 'insert',
                            hidden: true
                        },
                        {
                            id: 'style',
                            hidden: true
                        },
                        {
                            id: 'font',
                            hidden: true
                        },
                        {
                            id: 'para',
                            hidden: true
                        },
                        {
                            id: 'edit',
                            hidden: true
                        },
                        {
                            id: 'help',
                            hidden: true
                        },
                        {
                            id: 'cursor',
                            items: [
                                {
                                    id: 'navlineup',
                                    index: 7,
                                    repeat: true
                                },
                                {
                                    id: 'navlinestart',
                                    index: 4,
                                    repeat: true
                                },
                                {
                                    id: 'navwordleft',
                                    index: 2,
                                    repeat: true
                                }
                            ]
                        }
                    ]
                },
                origConfig;
            document.querySelector('#btn1').addEventListener('click', function () {
                var cfg = QUINK.configureToolbar(c1);
                origConfig = origConfig || cfg;
            });
            document.querySelector('#btn2').addEventListener('click', function () {
                var cfg = QUINK.configureToolbar(c2);
                origConfig = origConfig || cfg;
            });
            document.querySelector('#btnreset').addEventListener('click', function () {
                if (origConfig) {
                    QUINK.configureToolbar(origConfig);
                }
            });
        };
        </script>
    <body>
</html>
